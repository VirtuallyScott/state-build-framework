{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"FlockFinder iOS App","text":"<p>A companion iOS application for the FlockFinder ESP32-S3 surveillance camera detection system. This app connects to your FlockFinder hardware device via Bluetooth Low Energy (BLE) and provides real-time detection alerts, GPS logging, and comprehensive detection history.</p> <p>Firmware</p> <p>This app is configured to work with flock-you, a fork of the original flock-you project with BLE GATT server support.</p>"},{"location":"#what-is-flockfinder","title":"What is FlockFinder?","text":"<p>FlockFinder is a surveillance awareness project that helps you identify and log encounters with various surveillance camera systems, including:</p> <ul> <li>Flock Safety - Automated License Plate Recognition (ALPR) cameras used by law enforcement</li> <li>Verkada - Enterprise security camera platforms</li> <li>Ring/Nest/Arlo - Consumer smart home cameras</li> <li>Commercial Systems - Hikvision, Dahua, Axis, Lorex, and more</li> </ul>"},{"location":"#key-features","title":"Key Features","text":"Feature Description BLE Connectivity Seamlessly connects to your FlockFinder ESP32-S3 device GPS Logging Records precise coordinates for each detection Motion Tracking Captures speed, heading, and activity type Local Storage SQLite database with optional iCloud sync Interactive Map Visualize detection locations with clustering Detection History Browse, search, and filter past detections Data Export Export to CSV, JSON, or GPX formats"},{"location":"#requirements","title":"Requirements","text":"<ul> <li>iOS 16.0 or later</li> <li>iPhone with Bluetooth 4.0+ and GPS</li> <li>FlockFinder ESP32 device with BLE broadcast firmware</li> </ul>"},{"location":"#quick-start","title":"Quick Start","text":"<ol> <li>Build the app from source in Xcode</li> <li>Configure permissions for Bluetooth and Location</li> <li>Connect to your device via the Scanner tab</li> <li>Start detecting surveillance cameras!</li> </ol>"},{"location":"#documentation-sections","title":"Documentation Sections","text":"<ul> <li> <p> Building</p> <p>Build and run the app from source code</p> <p> Build Guide</p> </li> <li> <p> BLE Protocol</p> <p>Communication protocol with ESP32 device</p> <p> BLE Protocol</p> </li> <li> <p> Architecture</p> <p>Project structure and code organization</p> <p> Architecture</p> </li> <li> <p> Detection Types</p> <p>Supported surveillance camera systems</p> <p> Detection Types</p> </li> </ul>"},{"location":"#privacy","title":"Privacy","text":"<ul> <li>All detection data is stored locally on device</li> <li>Optional iCloud sync for personal backup</li> <li>No data sent to external servers without explicit consent</li> <li>Location data can be anonymized for crowdsourcing</li> </ul>"},{"location":"#license","title":"License","text":"<p>This app is part of the FlockFinder surveillance awareness project.</p> <p>Built with SwiftUI for iOS 16+</p>"},{"location":"architecture/","title":"Project Architecture","text":"<p>FlockFinder follows a clean SwiftUI architecture with clear separation of concerns. This document outlines the project structure and key components.</p>"},{"location":"architecture/#directory-structure","title":"Directory Structure","text":"<pre><code>FlockFinderApp/\n\u251c\u2500\u2500 FlockFinder.xcodeproj/     # Xcode project configuration\n\u2514\u2500\u2500 FlockFinder/\n    \u251c\u2500\u2500 FlockFinderApp.swift   # Main app entry point\n    \u251c\u2500\u2500 Info.plist             # App configuration &amp; permissions\n    \u251c\u2500\u2500 Assets.xcassets/       # App icons, colors &amp; images\n    \u2502\n    \u251c\u2500\u2500 Models/\n    \u2502   \u2514\u2500\u2500 FlockDetection.swift  # Core data models\n    \u2502\n    \u251c\u2500\u2500 Views/\n    \u2502   \u251c\u2500\u2500 ContentView.swift     # Main tab navigation\n    \u2502   \u251c\u2500\u2500 MapView.swift         # Detection map with clustering\n    \u2502   \u251c\u2500\u2500 HistoryView.swift     # Detection history list\n    \u2502   \u251c\u2500\u2500 SettingsView.swift    # App configuration\n    \u2502   \u251c\u2500\u2500 DebugStreamView.swift # Raw BLE data viewer\n    \u2502   \u2514\u2500\u2500 ...\n    \u2502\n    \u2514\u2500\u2500 Managers/\n        \u251c\u2500\u2500 BLEManager.swift      # CoreBluetooth handling\n        \u251c\u2500\u2500 LocationManager.swift # CoreLocation services\n        \u251c\u2500\u2500 MotionManager.swift   # CoreMotion data\n        \u2514\u2500\u2500 DatabaseManager.swift # SQLite persistence\n</code></pre>"},{"location":"architecture/#core-components","title":"Core Components","text":""},{"location":"architecture/#app-entry-point","title":"App Entry Point","text":"FlockFinderApp.swift<pre><code>@main\nstruct FlockFinderApp: App {\n    @StateObject private var bleManager = BLEManager()\n    @StateObject private var locationManager = LocationManager()\n    @StateObject private var databaseManager = DatabaseManager()\n\n    var body: some Scene {\n        WindowGroup {\n            ContentView()\n                .environmentObject(bleManager)\n                .environmentObject(locationManager)\n                .environmentObject(databaseManager)\n        }\n    }\n}\n</code></pre> <p>The app uses <code>@StateObject</code> for manager classes and distributes them via <code>@EnvironmentObject</code> for access throughout the view hierarchy.</p>"},{"location":"architecture/#managers","title":"Managers","text":""},{"location":"architecture/#blemanager","title":"BLEManager","text":"<p>Handles all Bluetooth Low Energy communication with the FlockFinder ESP32 device.</p> Property Type Description <code>isScanning</code> <code>Bool</code> Currently scanning for devices <code>isConnected</code> <code>Bool</code> Connected to a FlockFinder device <code>discoveredDevices</code> <code>[DiscoveredDevice]</code> Found BLE devices <code>recentDetections</code> <code>[FlockDetection]</code> Latest detection alerts <code>connectionState</code> <code>ConnectionState</code> Current BLE state <p>Key Methods:</p> <ul> <li><code>startScanning()</code> - Begin scanning for FlockFinder devices</li> <li><code>stopScanning()</code> - Stop the BLE scan</li> <li><code>connect(to:)</code> - Connect to a discovered device</li> <li><code>disconnect()</code> - Disconnect from the current device</li> </ul>"},{"location":"architecture/#locationmanager","title":"LocationManager","text":"<p>Wraps CoreLocation for GPS data collection.</p> Property Type Description <code>currentLocation</code> <code>CLLocation?</code> Current GPS position <code>speed</code> <code>Double</code> Speed in meters/second <code>headingDegrees</code> <code>Double</code> Compass heading <code>authorizationStatus</code> <code>CLAuthorizationStatus</code> Permission state"},{"location":"architecture/#motionmanager","title":"MotionManager","text":"<p>Handles CoreMotion for activity recognition.</p> Property Type Description <code>currentActivity</code> <code>String</code> Walking, driving, etc. <code>isStationary</code> <code>Bool</code> Device is not moving"},{"location":"architecture/#databasemanager","title":"DatabaseManager","text":"<p>SQLite database for persistent storage.</p> Method Description <code>saveDetection(_:)</code> Store a new detection <code>getAllDetections()</code> Retrieve all detections <code>deleteDetection(_:)</code> Remove a detection <code>exportToCSV()</code> Export data to CSV format <code>exportToJSON()</code> Export data to JSON format <code>exportToGPX()</code> Export data to GPX format"},{"location":"architecture/#models","title":"Models","text":""},{"location":"architecture/#flockdetection","title":"FlockDetection","text":"<p>The primary data model for surveillance camera detections.</p> <pre><code>struct FlockDetection: Identifiable, Codable, Equatable {\n    let id: Int64\n    let deviceType: DeviceType\n    let macAddress: String?\n    let ssid: String?\n    let rssi: Int\n    let confidence: Double\n    let latitude: Double\n    let longitude: Double\n    let speed: Double?\n    let heading: Double?\n    let activity: String?\n    let timestamp: Date\n}\n</code></pre>"},{"location":"architecture/#devicetype","title":"DeviceType","text":"<p>Enum representing supported surveillance camera types.</p> <pre><code>enum DeviceType: String, Codable, CaseIterable {\n    case flock = \"Flock Safety\"\n    case verkada = \"Verkada\"\n    case ring = \"Ring\"\n    case nest = \"Nest\"\n    case arlo = \"Arlo\"\n    // ... and more\n}\n</code></pre> <p>Each type has associated:</p> <ul> <li><code>icon</code> - SF Symbol name</li> <li><code>color</code> - SwiftUI Color for UI</li> <li><code>description</code> - Human-readable description</li> </ul>"},{"location":"architecture/#views","title":"Views","text":""},{"location":"architecture/#tab-navigation","title":"Tab Navigation","text":"<p>The app uses a <code>TabView</code> with four main sections:</p> <pre><code>graph LR\n    A[ContentView] --&gt; B[Scanner Tab]\n    A --&gt; C[Map Tab]\n    A --&gt; D[History Tab]\n    A --&gt; E[Settings Tab]</code></pre> Tab View Purpose Scanner <code>ScannerView</code> BLE connection &amp; live detections Map <code>MapView</code> Visual detection map History <code>HistoryView</code> Detection list &amp; search Settings <code>SettingsView</code> App configuration"},{"location":"architecture/#scanner-view-components","title":"Scanner View Components","text":"<pre><code>graph TD\n    A[ScannerView] --&gt; B[ConnectionStatusCard]\n    A --&gt; C[DiscoveredDevicesCard]\n    A --&gt; D[LocationCard]\n    A --&gt; E[RecentDetectionsCard]\n    A --&gt; F[Connect/Scan Button]</code></pre>"},{"location":"architecture/#data-flow","title":"Data Flow","text":"<pre><code>sequenceDiagram\n    participant ESP32 as FlockFinder ESP32\n    participant BLE as BLEManager\n    participant Loc as LocationManager\n    participant DB as DatabaseManager\n    participant UI as SwiftUI Views\n\n    ESP32-&gt;&gt;BLE: BLE Notification (Detection JSON)\n    BLE-&gt;&gt;BLE: Parse Detection Data\n    BLE-&gt;&gt;Loc: Get Current Location\n    Loc--&gt;&gt;BLE: CLLocation\n    BLE-&gt;&gt;DB: Save Detection\n    BLE-&gt;&gt;UI: @Published update\n    UI-&gt;&gt;UI: Re-render views</code></pre>"},{"location":"architecture/#threading-model","title":"Threading Model","text":"Manager Thread Notes BLEManager Main CBCentralManager on main queue LocationManager Main CLLocationManager delegate on main MotionManager Main CMMotionActivityManager callback DatabaseManager Background SQLite operations on background queue <p>SwiftUI Updates</p> <p>All <code>@Published</code> properties are updated on the main thread to ensure smooth UI updates.</p>"},{"location":"architecture/#next-steps","title":"Next Steps","text":"<ul> <li>Learn about the BLE protocol</li> <li>Explore detection types</li> <li>Configure permissions</li> </ul>"},{"location":"ble-protocol/","title":"BLE Protocol","text":"<p>The FlockFinder iOS app communicates with the ESP32-S3 device using Bluetooth Low Energy (BLE) GATT protocol. This document describes the communication protocol in detail.</p> <p>Firmware Compatibility</p> <p>This app is designed to work with flock-you, a fork with BLE GATT server support.</p>"},{"location":"ble-protocol/#service-characteristics","title":"Service &amp; Characteristics","text":""},{"location":"ble-protocol/#service-uuid","title":"Service UUID","text":"<pre><code>4fafc201-1fb5-459e-8fcc-c5c9c331914b\n</code></pre> <p>The FlockFinder device advertises this custom service UUID. The iOS app scans for devices advertising this service.</p>"},{"location":"ble-protocol/#characteristics","title":"Characteristics","text":"Characteristic UUID Properties Description Detection <code>beb5483e-36e1-4688-b7f5-ea07361b26a8</code> Notify Surveillance camera detection alerts Command <code>beb5483e-36e1-4688-b7f5-ea07361b26a9</code> Write Send commands to device Stream <code>beb5483e-36e1-4688-b7f5-ea07361b26aa</code> Notify Live scan data stream"},{"location":"ble-protocol/#device-discovery","title":"Device Discovery","text":"<p>The app scans for BLE devices matching these criteria:</p> <ol> <li>Service UUID - Devices advertising the FlockFinder service</li> <li>Name Patterns - Devices with names containing:</li> <li><code>FlockFinder</code></li> <li><code>Flock</code></li> <li><code>Feather</code></li> <li><code>ESP32</code></li> <li><code>S3</code></li> </ol> <pre><code>static let deviceNamePatterns = [\"flockfinder\", \"flock\", \"feather\", \"esp32\", \"s3\"]\n</code></pre>"},{"location":"ble-protocol/#detection-data-format","title":"Detection Data Format","text":"<p>When the ESP32 detects a surveillance camera, it sends a JSON payload via the Detection characteristic:</p>"},{"location":"ble-protocol/#json-schema","title":"JSON Schema","text":"<pre><code>{\n  \"type\": \"Flock Safety\",\n  \"mac\": \"AA:BB:CC:DD:EE:FF\",\n  \"ssid\": \"FLOCK-CAM-001\",\n  \"rssi\": -55,\n  \"confidence\": 0.95,\n  \"ts\": 123456789\n}\n</code></pre>"},{"location":"ble-protocol/#field-descriptions","title":"Field Descriptions","text":"Field Type Required Description <code>type</code> string \u2705 Detection type (see Detection Types) <code>mac</code> string \u274c MAC address of detected device <code>ssid</code> string \u274c WiFi SSID if applicable <code>rssi</code> integer \u2705 Signal strength in dBm <code>confidence</code> float \u2705 Detection confidence (0.0 - 1.0) <code>ts</code> integer \u274c Unix timestamp from device"},{"location":"ble-protocol/#example-detections","title":"Example Detections","text":"Flock Safety ALPRRing DoorbellUnknown Device <pre><code>{\n  \"type\": \"Flock Safety\",\n  \"mac\": \"3C:71:BF:12:34:56\",\n  \"ssid\": \"FLOCK-S3-1234\",\n  \"rssi\": -62,\n  \"confidence\": 0.98,\n  \"ts\": 1704307200\n}\n</code></pre> <pre><code>{\n  \"type\": \"Ring\",\n  \"mac\": \"A4:83:E7:AB:CD:EF\",\n  \"ssid\": \"Ring Doorbell Pro\",\n  \"rssi\": -71,\n  \"confidence\": 0.85,\n  \"ts\": 1704307200\n}\n</code></pre> <pre><code>{\n  \"type\": \"Unknown\",\n  \"mac\": \"00:11:22:33:44:55\",\n  \"rssi\": -78,\n  \"confidence\": 0.45,\n  \"ts\": 1704307200\n}\n</code></pre>"},{"location":"ble-protocol/#connection-flow","title":"Connection Flow","text":"<pre><code>sequenceDiagram\n    participant App as iOS App\n    participant CM as CBCentralManager\n    participant Device as ESP32 Device\n\n    App-&gt;&gt;CM: scanForPeripherals(withServices:)\n    CM-&gt;&gt;App: didDiscover(peripheral:)\n    App-&gt;&gt;CM: connect(peripheral:)\n    CM-&gt;&gt;Device: BLE Connect\n    Device--&gt;&gt;CM: Connected\n    CM-&gt;&gt;App: didConnect(peripheral:)\n    App-&gt;&gt;Device: discoverServices()\n    Device--&gt;&gt;App: Services Discovered\n    App-&gt;&gt;Device: discoverCharacteristics()\n    Device--&gt;&gt;App: Characteristics Discovered\n    App-&gt;&gt;Device: setNotifyValue(true, for: detection)\n\n    loop Detection Events\n        Device--&gt;&gt;App: BLE Notification (JSON)\n        App-&gt;&gt;App: Parse &amp; Store Detection\n    end</code></pre>"},{"location":"ble-protocol/#connection-states","title":"Connection States","text":"<pre><code>enum ConnectionState: String {\n    case disconnected = \"Disconnected\"\n    case scanning = \"Scanning...\"\n    case connecting = \"Connecting...\"\n    case connected = \"Connected\"\n    case discovering = \"Discovering Services...\"\n    case bluetoothOff = \"Bluetooth Off\"\n    case unauthorized = \"Bluetooth Unauthorized\"\n}\n</code></pre>"},{"location":"ble-protocol/#command-protocol","title":"Command Protocol","text":"<p>The app can send commands to the ESP32 via the Command characteristic:</p> Command Description <code>PING</code> Connection keep-alive <code>STATUS</code> Request device status <code>RESET</code> Reset detection counters <p>Commands are sent as UTF-8 encoded strings:</p> <pre><code>func sendCommand(_ command: String) {\n    guard let data = command.data(using: .utf8),\n          let characteristic = commandCharacteristic else { return }\n    connectedDevice?.writeValue(data, for: characteristic, type: .withResponse)\n}\n</code></pre>"},{"location":"ble-protocol/#live-stream","title":"Live Stream","text":"<p>The Stream characteristic provides real-time scan data for debugging:</p> <ul> <li>WiFi networks being scanned</li> <li>BLE devices in range</li> <li>Detection algorithm state</li> </ul> <p>Enable the Debug Stream View in the app to see this data.</p>"},{"location":"ble-protocol/#signal-strength","title":"Signal Strength","text":"<p>RSSI values indicate proximity to detected devices:</p> RSSI Range Distance Indication -30 to -50 Very close &lt; 2 meters -50 to -70 Close 2-10 meters -70 to -85 Medium 10-30 meters -85 to -100 Far &gt; 30 meters <p>RSSI Accuracy</p> <p>RSSI is affected by obstacles, interference, and antenna orientation. Use as a rough proximity indicator only.</p>"},{"location":"ble-protocol/#error-handling","title":"Error Handling","text":"<p>The app handles common BLE errors:</p> Error Handling Bluetooth Off Show alert, guide to Settings Connection Lost Automatic reconnection attempts Service Not Found Display error, suggest firmware update Parse Error Log error, continue listening"},{"location":"ble-protocol/#firmware-compatibility","title":"Firmware Compatibility","text":"<p>Ensure your ESP32 device is running compatible firmware:</p> <pre><code>cd flock-you\npio run -e um_feathers3 -t upload\n</code></pre> <p>The device should advertise as \"FlockFinder-S3\" when properly configured.</p>"},{"location":"ble-protocol/#next-steps","title":"Next Steps","text":"<ul> <li>Explore detection types</li> <li>Configure permissions</li> <li>View project architecture</li> </ul>"},{"location":"building/","title":"Building FlockFinder","text":"<p>This guide covers building the FlockFinder iOS app from source code.</p>"},{"location":"building/#prerequisites","title":"Prerequisites","text":"Requirement Version macOS Ventura 13.0+ Xcode 15.0 or later iOS Device Physical device (BLE requires hardware) Apple Developer Account Free or paid membership <p>Simulator Limitations</p> <p>The iOS Simulator does not support Bluetooth Low Energy. You must build and run on a physical iOS device to test BLE functionality.</p>"},{"location":"building/#clone-the-repository","title":"Clone the Repository","text":"<pre><code>git clone https://github.com/VirtuallyScott/FlockFinderApp.git\ncd FlockFinderApp\n</code></pre>"},{"location":"building/#open-in-xcode","title":"Open in Xcode","text":"<ol> <li>Open <code>FlockFinder.xcodeproj</code> in Xcode 15+</li> <li>Wait for Swift Package Manager to resolve dependencies (if any)</li> </ol>"},{"location":"building/#configure-signing","title":"Configure Signing","text":"<ol> <li>Select the FlockFinder target in the project navigator</li> <li>Go to the Signing &amp; Capabilities tab</li> <li>Select your Team from the dropdown</li> <li>Xcode will automatically manage provisioning profiles</li> </ol> <p>Free Developer Account</p> <p>You can use a free Apple Developer account for personal testing. The app will need to be re-signed every 7 days.</p>"},{"location":"building/#build-and-run","title":"Build and Run","text":"<ol> <li>Connect your iOS device via USB or WiFi</li> <li>Select your device from the device dropdown</li> <li>Press <code>\u2318R</code> or click the Run button</li> <li>Trust the developer certificate on your device if prompted:</li> <li>Go to Settings &gt; General &gt; VPN &amp; Device Management</li> <li>Tap your developer certificate and select Trust</li> </ol>"},{"location":"building/#build-configuration","title":"Build Configuration","text":""},{"location":"building/#debug-build","title":"Debug Build","text":"<p>The default Debug configuration includes:</p> <ul> <li>Full logging output</li> <li>Debug stream view for raw BLE data</li> <li>Faster iteration with incremental builds</li> </ul>"},{"location":"building/#release-build","title":"Release Build","text":"<p>For distribution or optimized testing:</p> <ol> <li>Select Product &gt; Scheme &gt; Edit Scheme</li> <li>Change Build Configuration to Release</li> <li>Build and archive: <code>\u2318\u21e7A</code> or Product &gt; Archive</li> </ol>"},{"location":"building/#troubleshooting","title":"Troubleshooting","text":""},{"location":"building/#common-build-errors","title":"Common Build Errors","text":""},{"location":"building/#signing-requires-a-development-team","title":"\"Signing requires a development team\"","text":"<ul> <li>Ensure you've selected a team in Signing &amp; Capabilities</li> <li>Sign in to your Apple ID in Xcode Preferences &gt; Accounts</li> </ul>"},{"location":"building/#untrusted-developer","title":"\"Untrusted Developer\"","text":"<ul> <li>On your iOS device: Settings &gt; General &gt; VPN &amp; Device Management</li> <li>Trust your developer certificate</li> </ul>"},{"location":"building/#no-provisioning-profiles-found","title":"\"No provisioning profiles found\"","text":"<ul> <li>Let Xcode manage signing automatically</li> <li>Or manually create profiles in the Apple Developer portal</li> </ul>"},{"location":"building/#ble-not-working","title":"BLE Not Working","text":"<p>If Bluetooth features aren't working:</p> <ol> <li>Ensure you're running on a physical device, not the simulator</li> <li>Check that Bluetooth is enabled on your device</li> <li>Verify the app has Bluetooth permissions in Settings</li> <li>Try killing and restarting the app</li> </ol>"},{"location":"building/#project-structure","title":"Project Structure","text":"<p>After building successfully, familiarize yourself with the project architecture to understand the codebase.</p>"},{"location":"building/#next-steps","title":"Next Steps","text":"<ul> <li>Configure app permissions</li> <li>Understand the BLE protocol</li> <li>Learn about detection types</li> </ul>"},{"location":"data-export/","title":"Data Export","text":"<p>FlockFinder supports exporting your detection data in multiple formats for analysis, backup, or sharing.</p>"},{"location":"data-export/#export-formats","title":"Export Formats","text":"Format Extension Best For CSV <code>.csv</code> Spreadsheets, data analysis JSON <code>.json</code> Programming, APIs, backups GPX <code>.gpx</code> Mapping apps, GPS devices"},{"location":"data-export/#how-to-export","title":"How to Export","text":"<ol> <li>Open the History tab</li> <li>Tap the Export button (share icon)</li> <li>Select your desired format</li> <li>Choose destination (Files, AirDrop, etc.)</li> </ol>"},{"location":"data-export/#csv-format","title":"CSV Format","text":"<p>Comma-separated values compatible with Excel, Google Sheets, and data analysis tools.</p>"},{"location":"data-export/#columns","title":"Columns","text":"Column Type Description <code>id</code> Integer Unique detection ID <code>device_type</code> String Camera type (e.g., \"Flock Safety\") <code>mac_address</code> String Device MAC address <code>ssid</code> String WiFi network name <code>rssi</code> Integer Signal strength (dBm) <code>confidence</code> Float Detection confidence (0-1) <code>latitude</code> Float GPS latitude <code>longitude</code> Float GPS longitude <code>speed</code> Float Speed (m/s) <code>heading</code> Float Compass heading (degrees) <code>activity</code> String Motion activity type <code>timestamp</code> ISO 8601 Detection time"},{"location":"data-export/#example","title":"Example","text":"<pre><code>id,device_type,mac_address,ssid,rssi,confidence,latitude,longitude,speed,heading,activity,timestamp\n1,Flock Safety,3C:71:BF:12:34:56,FLOCK-S3-1234,-62,0.98,37.7749,-122.4194,12.5,270.0,automotive,2024-01-15T14:30:00Z\n2,Ring,A4:83:E7:AB:CD:EF,Ring Doorbell Pro,-71,0.85,37.7751,-122.4189,0.0,0.0,stationary,2024-01-15T14:35:00Z\n</code></pre>"},{"location":"data-export/#json-format","title":"JSON Format","text":"<p>Structured data format ideal for programmatic access and full data fidelity.</p>"},{"location":"data-export/#schema","title":"Schema","text":"<pre><code>{\n  \"export_date\": \"2024-01-15T15:00:00Z\",\n  \"app_version\": \"1.0.0\",\n  \"total_detections\": 2,\n  \"detections\": [\n    {\n      \"id\": 1,\n      \"device_type\": \"Flock Safety\",\n      \"mac_address\": \"3C:71:BF:12:34:56\",\n      \"ssid\": \"FLOCK-S3-1234\",\n      \"rssi\": -62,\n      \"confidence\": 0.98,\n      \"location\": {\n        \"latitude\": 37.7749,\n        \"longitude\": -122.4194\n      },\n      \"motion\": {\n        \"speed\": 12.5,\n        \"heading\": 270.0,\n        \"activity\": \"automotive\"\n      },\n      \"timestamp\": \"2024-01-15T14:30:00Z\"\n    }\n  ]\n}\n</code></pre>"},{"location":"data-export/#gpx-format","title":"GPX Format","text":"<p>GPS Exchange Format for mapping applications and GPS devices.</p>"},{"location":"data-export/#structure","title":"Structure","text":"<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;gpx version=\"1.1\" creator=\"FlockFinder iOS\"&gt;\n  &lt;metadata&gt;\n    &lt;name&gt;FlockFinder Detections&lt;/name&gt;\n    &lt;time&gt;2024-01-15T15:00:00Z&lt;/time&gt;\n  &lt;/metadata&gt;\n\n  &lt;wpt lat=\"37.7749\" lon=\"-122.4194\"&gt;\n    &lt;ele&gt;0&lt;/ele&gt;\n    &lt;time&gt;2024-01-15T14:30:00Z&lt;/time&gt;\n    &lt;name&gt;Flock Safety&lt;/name&gt;\n    &lt;desc&gt;MAC: 3C:71:BF:12:34:56, RSSI: -62, Confidence: 98%&lt;/desc&gt;\n    &lt;type&gt;Flock Safety&lt;/type&gt;\n  &lt;/wpt&gt;\n\n  &lt;wpt lat=\"37.7751\" lon=\"-122.4189\"&gt;\n    &lt;ele&gt;0&lt;/ele&gt;\n    &lt;time&gt;2024-01-15T14:35:00Z&lt;/time&gt;\n    &lt;name&gt;Ring&lt;/name&gt;\n    &lt;desc&gt;MAC: A4:83:E7:AB:CD:EF, RSSI: -71, Confidence: 85%&lt;/desc&gt;\n    &lt;type&gt;Ring&lt;/type&gt;\n  &lt;/wpt&gt;\n&lt;/gpx&gt;\n</code></pre>"},{"location":"data-export/#compatible-apps","title":"Compatible Apps","text":"<p>GPX files can be imported into:</p> <ul> <li>Apple Maps (via Files app)</li> <li>Google Maps (My Maps)</li> <li>Gaia GPS</li> <li>AllTrails</li> <li>Garmin Connect</li> <li>Strava</li> </ul>"},{"location":"data-export/#filtering-before-export","title":"Filtering Before Export","text":"<p>Use the History view filters to export subsets of data:</p> Filter Description Date Range Export detections within specific dates Device Type Export only certain camera types Search Export detections matching search terms <p>Large Exports</p> <p>For exports with many detections, JSON format is most efficient for large datasets.</p>"},{"location":"data-export/#sharing-options","title":"Sharing Options","text":"<p>After export, iOS shows the share sheet with options:</p> <ul> <li>AirDrop - Send to nearby Apple devices</li> <li>Files - Save to iCloud Drive or local storage</li> <li>Email - Attach to email message</li> <li>Messages - Share via iMessage/SMS</li> <li>Third-party apps - Any app that accepts the file type</li> </ul>"},{"location":"data-export/#data-analysis","title":"Data Analysis","text":""},{"location":"data-export/#opening-in-excel","title":"Opening in Excel","text":"<ol> <li>Export as CSV</li> <li>Open Excel and select File &gt; Import</li> <li>Choose the CSV file</li> <li>Data will populate in columns</li> </ol>"},{"location":"data-export/#opening-in-python","title":"Opening in Python","text":"<pre><code>import pandas as pd\n\n# CSV\ndf = pd.read_csv('flockfinder_export.csv')\n\n# JSON\nimport json\nwith open('flockfinder_export.json') as f:\n    data = json.load(f)\ndf = pd.DataFrame(data['detections'])\n</code></pre>"},{"location":"data-export/#visualizing-on-map","title":"Visualizing on Map","text":"<pre><code>import folium\n\n# Create map centered on first detection\nm = folium.Map(location=[df['latitude'].mean(), df['longitude'].mean()], zoom_start=12)\n\n# Add markers\nfor _, row in df.iterrows():\n    folium.Marker(\n        [row['latitude'], row['longitude']],\n        popup=f\"{row['device_type']}: {row['timestamp']}\"\n    ).add_to(m)\n\nm.save('detections_map.html')\n</code></pre>"},{"location":"data-export/#privacy-notice","title":"Privacy Notice","text":"<p>Location Data</p> <p>Exported files contain precise GPS coordinates. Consider the privacy implications before sharing exported data.</p> <p>Recommendations:</p> <ul> <li>Only share with trusted parties</li> <li>Consider removing or obfuscating exact locations</li> <li>Don't post raw exports publicly</li> </ul>"},{"location":"data-export/#icloud-backup","title":"iCloud Backup","text":"<p>If iCloud sync is enabled, your detection database automatically backs up to iCloud. This is separate from manual exports and provides automatic device-to-device sync.</p> <p>See iCloud Setup Guide for configuration.</p>"},{"location":"data-export/#next-steps","title":"Next Steps","text":"<ul> <li>Configure iCloud sync</li> <li>View detection types</li> <li>Explore the map view</li> </ul>"},{"location":"detection-types/","title":"Detection Types","text":"<p>FlockFinder recognizes various surveillance camera systems. This page documents all supported detection types, their characteristics, and visual identifiers.</p>"},{"location":"detection-types/#surveillance-categories","title":"Surveillance Categories","text":"<pre><code>mindmap\n  root((Surveillance Types))\n    ALPR\n      Flock Safety\n    Enterprise\n      Verkada\n      Axis\n    Consumer\n      Ring\n      Nest\n      Arlo\n      Wyze\n      Eufy\n    Commercial\n      Lorex\n      Reolink\n      Hikvision\n      Dahua</code></pre>"},{"location":"detection-types/#detection-reference","title":"Detection Reference","text":""},{"location":"detection-types/#flock-safety","title":"Flock Safety","text":"| Property | Value | |----------|-------| | **Type** | ALPR (Automated License Plate Recognition) | | **Operator** | Law Enforcement Agencies | | **Color** | \ud83d\udd34 Red | | **Icon** | `car.fill` |  **Description:** Flock Safety cameras are automated license plate recognition systems deployed by law enforcement agencies across the United States. They capture license plates and vehicle characteristics to track vehicle movements.  **Identification Patterns:**  - SSID: `FLOCK-*`, `FLK-*` - MAC OUI: Multiple vendors - Often mounted on poles at intersections"},{"location":"detection-types/#verkada","title":"Verkada","text":"Property Value Type Enterprise Security Operator Businesses, Schools, Government Color \ud83d\udfe0 Orange Icon <code>building.2.fill</code> <p>Description: Verkada is a cloud-based enterprise security platform used by businesses, schools, and government facilities. Features AI-powered analytics and facial recognition capabilities.</p> <p>Identification Patterns:</p> <ul> <li>SSID: <code>Verkada-*</code></li> <li>Cloud-connected devices</li> </ul>"},{"location":"detection-types/#ring","title":"Ring","text":"Property Value Type Consumer Smart Doorbell/Camera Operator Amazon / Residential Color \ud83e\ude75 Cyan Icon <code>bell.fill</code> <p>Description: Ring is Amazon's smart home security brand, featuring doorbells and cameras. Known for neighborhood sharing features and law enforcement partnerships.</p> <p>Identification Patterns:</p> <ul> <li>SSID: <code>Ring-*</code>, <code>Ring Doorbell*</code></li> <li>MAC OUI: <code>A4:83:E7</code> and others</li> </ul>"},{"location":"detection-types/#nest","title":"Nest","text":"Property Value Type Consumer Smart Camera Operator Google / Residential Color \ud83e\ude76 Teal Icon <code>house.fill</code> <p>Description: Google Nest cameras are part of the Google smart home ecosystem. Features include facial recognition, activity zones, and 24/7 recording.</p> <p>Identification Patterns:</p> <ul> <li>SSID: <code>Nest-*</code>, <code>Google Nest*</code></li> <li>MAC OUI: Google/Nest prefixes</li> </ul>"},{"location":"detection-types/#arlo","title":"Arlo","text":"Property Value Type Wireless Security Camera Operator Residential Color \ud83d\udfe2 Green Icon <code>camera.fill</code> <p>Description: Arlo produces wireless security cameras popular for residential use. Known for battery-powered operation and weather resistance.</p>"},{"location":"detection-types/#wyze","title":"Wyze","text":"Property Value Type Budget Smart Camera Operator Residential Color \ud83d\udfe2 Green Icon <code>camera.fill</code> <p>Description: Wyze offers affordable smart home cameras with cloud and local storage options.</p>"},{"location":"detection-types/#eufy","title":"Eufy","text":"Property Value Type Smart Home Security Operator Residential Color \ud83d\udfe2 Green Icon <code>camera.fill</code> <p>Description: Eufy (by Anker) provides smart home security cameras with local storage focus and no monthly fees.</p>"},{"location":"detection-types/#lorex","title":"Lorex","text":"Property Value Type Consumer/Commercial Security Operator Residential / Business Color \ud83d\udd35 Blue Icon <code>video.fill</code> <p>Description: Lorex produces wired and wireless security camera systems for home and business use.</p>"},{"location":"detection-types/#reolink","title":"Reolink","text":"Property Value Type IP Security Camera Operator Residential / Business Color \ud83d\udd35 Blue Icon <code>video.fill</code> <p>Description: Reolink manufactures IP cameras with PoE and wireless options, popular for DIY security setups.</p>"},{"location":"detection-types/#axis-communications","title":"Axis Communications","text":"Property Value Type Professional IP Camera Operator Enterprise / Government Color \ud83d\udfe1 Yellow Icon <code>video.fill</code> <p>Description: Axis is a Swedish manufacturer of professional network cameras used in enterprise and government installations.</p>"},{"location":"detection-types/#hikvision","title":"Hikvision","text":"Property Value Type Commercial Surveillance Operator Various Color \ud83d\udfe3 Purple Icon <code>video.fill</code> <p>Description: Hikvision is a Chinese state-owned surveillance equipment manufacturer. One of the world's largest security camera companies.</p> <p>Security Concerns</p> <p>Hikvision has been flagged by various governments for security concerns and is banned from certain government installations.</p>"},{"location":"detection-types/#dahua","title":"Dahua","text":"Property Value Type Commercial Surveillance Operator Various Color \ud83d\udfe3 Purple Icon <code>video.fill</code> <p>Description: Dahua Technology is a Chinese video surveillance products and services company. Similar to Hikvision in market position.</p> <p>Security Concerns</p> <p>Dahua has similar security concerns and restrictions as Hikvision in some jurisdictions.</p>"},{"location":"detection-types/#unknown","title":"Unknown","text":"Property Value Type Unidentified Surveillance Device Color \u26aa Gray Icon <code>questionmark.circle.fill</code> <p>Description: Devices that match surveillance patterns but cannot be definitively identified. May represent new or uncommon camera systems.</p>"},{"location":"detection-types/#detection-confidence","title":"Detection Confidence","text":"<p>The confidence score (0.0 - 1.0) indicates how certain the detection is:</p> Confidence Meaning 0.90 - 1.00 High - Strong match on multiple identifiers 0.70 - 0.89 Medium - Good match on primary identifiers 0.50 - 0.69 Low - Partial match, may be false positive &lt; 0.50 Very Low - Uncertain, requires verification"},{"location":"detection-types/#color-legend","title":"Color Legend","text":"<p>The app uses consistent colors for quick visual identification:</p> <pre><code>var color: Color {\n    switch self {\n    case .flock:     return .red      // Law enforcement ALPR\n    case .verkada:   return .orange   // Enterprise\n    case .ring:      return .cyan     // Amazon\n    case .nest:      return .teal     // Google\n    case .arlo, .wyze, .eufy: return .green  // Consumer\n    case .lorex, .reolink:    return .blue   // Commercial\n    case .axis:      return .yellow   // Professional\n    case .hikvision, .dahua:  return .purple // Chinese manufacturers\n    case .unknown:   return .gray     // Unknown\n    }\n}\n</code></pre>"},{"location":"detection-types/#adding-new-detection-types","title":"Adding New Detection Types","text":"<p>To add support for new surveillance systems:</p> <ol> <li>Add case to <code>DeviceType</code> enum in FlockDetection.swift</li> <li>Define icon, color, and description</li> <li>Update ESP32 firmware with detection patterns</li> <li>Submit pull request with documentation</li> </ol>"},{"location":"detection-types/#next-steps","title":"Next Steps","text":"<ul> <li>Configure permissions</li> <li>View BLE protocol</li> <li>Explore architecture</li> </ul>"},{"location":"icloud-setup/","title":"iCloud Setup","text":"<p>FlockFinder supports optional iCloud sync to keep your detection data synchronized across devices and backed up to the cloud.</p>"},{"location":"icloud-setup/#overview","title":"Overview","text":"Feature Description Multi-device sync Access detections on all your iOS devices Automatic backup Data safely stored in iCloud Conflict resolution Smart merging of detection records Privacy Data stays in your personal iCloud account"},{"location":"icloud-setup/#requirements","title":"Requirements","text":"<ul> <li>iOS 16.0 or later</li> <li>iCloud account signed in on device</li> <li>iCloud Drive enabled</li> <li>Sufficient iCloud storage</li> </ul>"},{"location":"icloud-setup/#enabling-icloud-sync","title":"Enabling iCloud Sync","text":""},{"location":"icloud-setup/#in-the-app","title":"In the App","text":"<ol> <li>Open Settings tab</li> <li>Scroll to Data &amp; Storage</li> <li>Toggle iCloud Sync on</li> <li>Confirm when prompted</li> </ol>"},{"location":"icloud-setup/#icloud-must-be-enabled","title":"iCloud Must Be Enabled","text":"<p>If iCloud is not available, the toggle will be disabled. Check:</p> <ol> <li>Settings &gt; [Your Name] &gt; iCloud</li> <li>Ensure iCloud Drive is enabled</li> <li>Verify you're signed in with an Apple ID</li> </ol>"},{"location":"icloud-setup/#how-it-works","title":"How It Works","text":"<pre><code>sequenceDiagram\n    participant iPhone1 as iPhone #1\n    participant iCloud as iCloud\n    participant iPhone2 as iPhone #2\n\n    iPhone1-&gt;&gt;iCloud: New Detection\n    iCloud-&gt;&gt;iCloud: Store in CloudKit\n    iCloud-&gt;&gt;iPhone2: Sync Notification\n    iPhone2-&gt;&gt;iCloud: Fetch New Records\n    iPhone2-&gt;&gt;iPhone2: Merge with Local DB</code></pre>"},{"location":"icloud-setup/#sync-process","title":"Sync Process","text":"<ol> <li>Detection logged locally to SQLite</li> <li>iCloudManager queues record for sync</li> <li>CloudKit uploads to your iCloud account</li> <li>Other devices receive change notifications</li> <li>Auto-merge combines records on each device</li> </ol>"},{"location":"icloud-setup/#data-storage","title":"Data Storage","text":""},{"location":"icloud-setup/#cloudkit-container","title":"CloudKit Container","text":"<p>FlockFinder uses a private CloudKit container:</p> <pre><code>iCloud.com.yourcompany.FlockFinder\n</code></pre> <p>Data is stored in your private database, visible only to you.</p>"},{"location":"icloud-setup/#record-types","title":"Record Types","text":"Type Contents <code>Detection</code> Individual detection records <code>Settings</code> Synced app preferences"},{"location":"icloud-setup/#conflict-resolution","title":"Conflict Resolution","text":"<p>When the same detection exists on multiple devices:</p> <ol> <li>Unique ID check - Detections matched by UUID</li> <li>Timestamp comparison - Newer data wins</li> <li>Field merge - Missing fields filled from any source</li> </ol> <p>Offline Mode</p> <p>Detections logged offline will sync automatically when connectivity is restored.</p>"},{"location":"icloud-setup/#storage-usage","title":"Storage Usage","text":"<p>Check your iCloud storage usage:</p> <ol> <li>Settings &gt; [Your Name] &gt; iCloud &gt; Manage Account Storage</li> <li>Look for FlockFinder in the list</li> </ol> <p>Typical storage:</p> Detections Approximate Size 100 ~50 KB 1,000 ~500 KB 10,000 ~5 MB"},{"location":"icloud-setup/#troubleshooting","title":"Troubleshooting","text":""},{"location":"icloud-setup/#sync-not-working","title":"Sync Not Working","text":"<ol> <li>Check iCloud status at apple.com/support/systemstatus</li> <li>Verify iCloud Drive is enabled in Settings</li> <li>Check internet connection</li> <li>Force sync by toggling iCloud off and on in app</li> </ol>"},{"location":"icloud-setup/#data-not-appearing-on-other-device","title":"Data Not Appearing on Other Device","text":"<ol> <li>Ensure same Apple ID on both devices</li> <li>Wait a few minutes for sync</li> <li>Open the app on both devices to trigger sync</li> <li>Check iCloud Drive is enabled on both devices</li> </ol>"},{"location":"icloud-setup/#storage-full","title":"Storage Full","text":"<p>If iCloud storage is full:</p> <ol> <li>Upgrade iCloud storage plan</li> <li>Delete old detections in the History tab</li> <li>Free up iCloud space from other apps</li> </ol>"},{"location":"icloud-setup/#duplicate-detections","title":"Duplicate Detections","text":"<p>If you see duplicates after sync:</p> <ol> <li>Open History tab</li> <li>Use Merge Duplicates in settings (if available)</li> <li>Manually delete duplicates</li> </ol>"},{"location":"icloud-setup/#privacy-considerations","title":"Privacy Considerations","text":"Aspect Details Encryption Data encrypted in transit and at rest Access Only accessible with your Apple ID Sharing Never shared with third parties Deletion Removed when you delete from all devices <p>Apple's Privacy Policy</p> <p>iCloud data is subject to Apple's privacy policy. Apple cannot access your encrypted CloudKit data.</p>"},{"location":"icloud-setup/#disabling-icloud-sync","title":"Disabling iCloud Sync","text":"<p>To disable sync while keeping local data:</p> <ol> <li>Open Settings tab</li> <li>Toggle iCloud Sync off</li> <li>Choose Keep Local Data when prompted</li> </ol> <p>To remove data from iCloud:</p> <ol> <li>Toggle iCloud Sync off</li> <li>Choose Delete from iCloud when prompted</li> <li>Local data remains on current device</li> </ol>"},{"location":"icloud-setup/#technical-details","title":"Technical Details","text":""},{"location":"icloud-setup/#cloudkit-implementation","title":"CloudKit Implementation","text":"<pre><code>class iCloudManager: ObservableObject {\n    let container = CKContainer(identifier: \"iCloud.com.yourcompany.FlockFinder\")\n    let privateDatabase: CKDatabase\n\n    func saveDetection(_ detection: FlockDetection) {\n        let record = CKRecord(recordType: \"Detection\")\n        record[\"deviceType\"] = detection.deviceType.rawValue\n        record[\"latitude\"] = detection.latitude\n        record[\"longitude\"] = detection.longitude\n        // ... populate fields\n\n        privateDatabase.save(record) { _, error in\n            if let error = error {\n                print(\"Sync error: \\(error)\")\n            }\n        }\n    }\n}\n</code></pre>"},{"location":"icloud-setup/#entitlements","title":"Entitlements","text":"<p>The app requires the following entitlement in <code>FlockFinder.entitlements</code>:</p> <pre><code>&lt;key&gt;com.apple.developer.icloud-container-identifiers&lt;/key&gt;\n&lt;array&gt;\n    &lt;string&gt;iCloud.com.yourcompany.FlockFinder&lt;/string&gt;\n&lt;/array&gt;\n&lt;key&gt;com.apple.developer.icloud-services&lt;/key&gt;\n&lt;array&gt;\n    &lt;string&gt;CloudKit&lt;/string&gt;\n&lt;/array&gt;\n</code></pre>"},{"location":"icloud-setup/#next-steps","title":"Next Steps","text":"<ul> <li>Export your data</li> <li>Configure permissions</li> <li>Return to home</li> </ul>"},{"location":"permissions/","title":"App Permissions","text":"<p>FlockFinder requires several iOS permissions to function properly. This guide explains each permission and how to configure them.</p>"},{"location":"permissions/#required-permissions","title":"Required Permissions","text":"Permission Purpose Required Bluetooth Connect to FlockFinder device \u2705 Yes Location (When In Use) Log detection coordinates \u2705 Yes Location (Always) Background detection logging \u26a1 Optional Motion &amp; Fitness Record speed and heading \u26a1 Optional"},{"location":"permissions/#permission-configuration","title":"Permission Configuration","text":""},{"location":"permissions/#infoplist-keys","title":"Info.plist Keys","text":"<p>The following keys are configured in <code>Info.plist</code>:</p> <pre><code>&lt;!-- Bluetooth --&gt;\n&lt;key&gt;NSBluetoothAlwaysUsageDescription&lt;/key&gt;\n&lt;string&gt;FlockFinder needs Bluetooth to connect to your detection device.&lt;/string&gt;\n\n&lt;key&gt;NSBluetoothPeripheralUsageDescription&lt;/key&gt;\n&lt;string&gt;FlockFinder needs Bluetooth to communicate with the ESP32 detector.&lt;/string&gt;\n\n&lt;!-- Location --&gt;\n&lt;key&gt;NSLocationWhenInUseUsageDescription&lt;/key&gt;\n&lt;string&gt;FlockFinder needs your location to log where detections occur.&lt;/string&gt;\n\n&lt;key&gt;NSLocationAlwaysAndWhenInUseUsageDescription&lt;/key&gt;\n&lt;string&gt;FlockFinder needs background location access to log detections while driving.&lt;/string&gt;\n\n&lt;!-- Motion --&gt;\n&lt;key&gt;NSMotionUsageDescription&lt;/key&gt;\n&lt;string&gt;FlockFinder uses motion data to record your speed and direction of travel.&lt;/string&gt;\n</code></pre>"},{"location":"permissions/#bluetooth-permission","title":"Bluetooth Permission","text":""},{"location":"permissions/#why-its-needed","title":"Why It's Needed","text":"<p>Bluetooth Low Energy (BLE) is the primary communication method between your iPhone and the FlockFinder ESP32 device. Without Bluetooth access, the app cannot:</p> <ul> <li>Discover nearby FlockFinder devices</li> <li>Establish connections</li> <li>Receive detection notifications</li> </ul>"},{"location":"permissions/#granting-permission","title":"Granting Permission","text":"<ol> <li>When first launching the app, you'll see a Bluetooth permission prompt</li> <li>Tap \"Allow\" to enable BLE access</li> <li>If denied, go to Settings &gt; Privacy &amp; Security &gt; Bluetooth</li> <li>Find FlockFinder and toggle on</li> </ol> <p>Bluetooth Denied</p> <p>If Bluetooth is denied, the app will show <code>connectionState: .unauthorized</code> and cannot scan for devices.</p>"},{"location":"permissions/#location-permission","title":"Location Permission","text":""},{"location":"permissions/#why-its-needed_1","title":"Why It's Needed","text":"<p>Location services allow FlockFinder to:</p> <ul> <li>Record GPS coordinates for each detection</li> <li>Calculate speed and heading</li> <li>Display detections on the map</li> <li>Export GPX tracks</li> </ul>"},{"location":"permissions/#permission-levels","title":"Permission Levels","text":"When In UseAlways <p>Recommended for basic use</p> <ul> <li>Location recorded while app is in foreground</li> <li>Battery efficient</li> <li>Detections logged only when actively using the app</li> </ul> <p>Recommended for comprehensive logging</p> <ul> <li>Location recorded even when app is in background</li> <li>Higher battery usage</li> <li>Logs detections while driving with screen off</li> <li>Required for background BLE notifications</li> </ul>"},{"location":"permissions/#granting-permission_1","title":"Granting Permission","text":"<ol> <li>The app will request location when you open the Scanner tab</li> <li>Select \"Allow While Using App\" or \"Allow Always\"</li> <li>For background logging, select \"Change to Always Allow\" when prompted</li> </ol>"},{"location":"permissions/#changing-permission-later","title":"Changing Permission Later","text":"<p>Settings &gt; Privacy &amp; Security &gt; Location Services &gt; FlockFinder</p> <p>Options:</p> <ul> <li>Never</li> <li>Ask Next Time Or When I Share</li> <li>While Using the App</li> <li>Always</li> </ul> <p>Precise Location</p> <p>Keep Precise Location enabled for accurate GPS coordinates. Approximate location will still work but with reduced accuracy.</p>"},{"location":"permissions/#motion-fitness-permission","title":"Motion &amp; Fitness Permission","text":""},{"location":"permissions/#why-its-needed_2","title":"Why It's Needed","text":"<p>Motion data enhances detection records with:</p> <ul> <li>Activity Type - Walking, running, driving, cycling</li> <li>Speed - Current velocity</li> <li>Heading - Compass direction of travel</li> <li>Stationary Detection - Know if you're stopped at a location</li> </ul>"},{"location":"permissions/#granting-permission_2","title":"Granting Permission","text":"<ol> <li>When accessing motion data, you'll see a permission prompt</li> <li>Tap \"Allow\" to enable motion access</li> <li>If denied, go to Settings &gt; Privacy &amp; Security &gt; Motion &amp; Fitness</li> </ol>"},{"location":"permissions/#without-motion-permission","title":"Without Motion Permission","text":"<p>The app functions without motion data, but detections will lack:</p> <ul> <li>Activity classification</li> <li>Precise heading (falls back to GPS heading)</li> <li>Stationary/moving indicators</li> </ul>"},{"location":"permissions/#permission-flow","title":"Permission Flow","text":"<pre><code>flowchart TD\n    A[App Launch] --&gt; B{Bluetooth?}\n    B --&gt;|Denied| C[Show BT Required Alert]\n    B --&gt;|Allowed| D{Location?}\n    D --&gt;|Never| E[App Works, No GPS]\n    D --&gt;|When In Use| F[Foreground Logging]\n    D --&gt;|Always| G[Background Logging]\n    F --&gt; H{Motion?}\n    G --&gt; H\n    H --&gt;|Denied| I[Basic Detection Data]\n    H --&gt;|Allowed| J[Full Detection Data]</code></pre>"},{"location":"permissions/#troubleshooting","title":"Troubleshooting","text":""},{"location":"permissions/#bluetooth-is-off","title":"\"Bluetooth is Off\"","text":"<ol> <li>Open Control Center (swipe down from top-right)</li> <li>Tap the Bluetooth icon to enable</li> <li>Or go to Settings &gt; Bluetooth and toggle on</li> </ol>"},{"location":"permissions/#location-services-disabled","title":"\"Location Services Disabled\"","text":"<ol> <li>Go to Settings &gt; Privacy &amp; Security &gt; Location Services</li> <li>Toggle Location Services on</li> <li>Scroll down and ensure FlockFinder has permission</li> </ol>"},{"location":"permissions/#precise-location-is-off","title":"\"Precise Location is Off\"","text":"<ol> <li>Settings &gt; Privacy &amp; Security &gt; Location Services &gt; FlockFinder</li> <li>Toggle Precise Location on</li> </ol>"},{"location":"permissions/#background-location-not-working","title":"Background Location Not Working","text":"<ol> <li>Ensure \"Always\" location permission is granted</li> <li>Check Settings &gt; General &gt; Background App Refresh</li> <li>Enable background refresh for FlockFinder</li> </ol>"},{"location":"permissions/#permissions-reset-after-update","title":"Permissions Reset After Update","text":"<p>iOS may reset permissions after app updates. Simply re-grant permissions when prompted.</p>"},{"location":"permissions/#privacy-considerations","title":"Privacy Considerations","text":"<p>FlockFinder takes privacy seriously:</p> Data Storage Sharing Detection locations Local device only Never without consent GPS coordinates Local SQLite database Optional export Motion data Used in real-time, not stored Never Bluetooth data Connection only Never <p>iCloud Sync</p> <p>If iCloud sync is enabled, detection data syncs to your personal iCloud account only. No data is shared with third parties.</p>"},{"location":"permissions/#next-steps","title":"Next Steps","text":"<ul> <li>Build the app</li> <li>Connect to your device</li> <li>Explore detection types</li> </ul>"},{"location":"user-guide/","title":"User Guide","text":"<p>This guide walks you through using the FlockFinder iOS app to detect and log surveillance cameras.</p>"},{"location":"user-guide/#app-overview","title":"App Overview","text":"<p>FlockFinder has four main tabs at the bottom of the screen:</p> Tab Icon Purpose Scanner \ud83d\udce1 Connect to your FlockFinder device and view real-time detections Map \ud83d\uddfa\ufe0f Visualize detection locations on an interactive map History \ud83d\udccb Browse, search, and export your detection history Settings \u2699\ufe0f Configure device, alerts, and app preferences"},{"location":"user-guide/#scanner-tab","title":"Scanner Tab","text":"<p>The Scanner tab is your primary interface for connecting to your FlockFinder ESP32 device and monitoring real-time detections.</p> <p></p>"},{"location":"user-guide/#connection-status","title":"Connection Status","text":"<p>At the top of the Scanner view, you'll see a connection status card showing:</p> <ul> <li>Connection state - Disconnected, Scanning, Connecting, or Connected</li> <li>Device name - The name of your FlockFinder device when connected</li> <li>Status message - Current activity or error information</li> </ul>"},{"location":"user-guide/#scanning-for-devices","title":"Scanning for Devices","text":"<ol> <li>Tap the \"Scan for FlockFinder\" button at the bottom</li> <li>The app will search for nearby FlockFinder devices</li> <li>Discovered devices appear in a list</li> <li>Tap a device to connect</li> </ol> <p>Auto-Connect</p> <p>Enable \"Auto-connect on launch\" in Settings to automatically reconnect to your last device.</p>"},{"location":"user-guide/#current-location","title":"Current Location","text":"<p>The location card displays your current:</p> <ul> <li>GPS Coordinates - Latitude and longitude</li> <li>Speed - Current travel speed (mph/kph)</li> <li>Heading - Direction of travel in degrees</li> </ul>"},{"location":"user-guide/#recent-detections","title":"Recent Detections","text":"<p>When connected, the Recent Detections card shows the latest camera detections in real-time, including:</p> <ul> <li>Device type and icon</li> <li>Signal strength (RSSI)</li> <li>Confidence level</li> <li>Timestamp</li> </ul>"},{"location":"user-guide/#map-tab","title":"Map Tab","text":"<p>The Map tab provides a visual overview of all your detection locations.</p> <p></p>"},{"location":"user-guide/#map-features","title":"Map Features","text":"<ul> <li>Detection Pins - Color-coded pins for each detection type</li> <li>User Location - Blue dot showing your current position</li> <li>Clustering - Multiple nearby detections group together</li> </ul>"},{"location":"user-guide/#map-controls","title":"Map Controls","text":"<p>Floating buttons on the right side of the map:</p> Button Function \ud83e\udded Toggle between North-up and Heading-up orientation \ud83d\udccd Center map on your current location \ud83d\udd04 Refresh detection markers"},{"location":"user-guide/#viewing-detection-details","title":"Viewing Detection Details","text":"<p>Tap any detection pin to view details:</p> <ul> <li>Device type and manufacturer</li> <li>Signal strength and confidence</li> <li>GPS coordinates</li> <li>Date and time logged</li> </ul>"},{"location":"user-guide/#history-tab","title":"History Tab","text":"<p>The History tab lets you browse, search, and manage all your logged detections.</p> <p></p>"},{"location":"user-guide/#statistics-header","title":"Statistics Header","text":"<p>At the top, scrollable badges show:</p> <ul> <li>Total detection count</li> <li>Counts by device type (Flock, Verkada, Ring, etc.)</li> </ul> <p>Tap a badge to filter the list by that device type.</p>"},{"location":"user-guide/#search-and-filter","title":"Search and Filter","text":"<ul> <li>Search bar - Find detections by MAC address, SSID, or device type</li> <li>Sort options - Order by Newest, Oldest, Strongest Signal, or Highest Confidence</li> </ul>"},{"location":"user-guide/#detection-list","title":"Detection List","text":"<p>Each detection entry shows:</p> <ul> <li>Device type icon and name</li> <li>Signal strength indicator</li> <li>Confidence percentage</li> <li>Timestamp</li> <li>Location preview</li> </ul>"},{"location":"user-guide/#exporting-data","title":"Exporting Data","text":"<p>Tap the export button (top right) to export detections in:</p> <ul> <li>CSV - Spreadsheet-compatible format</li> <li>JSON - Developer-friendly structured data</li> <li>GPX - GPS track for mapping applications</li> </ul>"},{"location":"user-guide/#settings-tab","title":"Settings Tab","text":"<p>Configure FlockFinder behavior and preferences in the Settings tab.</p> <p></p>"},{"location":"user-guide/#device-settings","title":"Device Settings","text":"<ul> <li>Connected device info - Shows currently connected FlockFinder device</li> <li>Disconnect button - Manually disconnect from the device</li> <li>Auto-connect on launch - Automatically reconnect when app opens</li> </ul>"},{"location":"user-guide/#icloud-sync","title":"iCloud Sync","text":"<ul> <li>Settings Sync - Sync your preferences across all devices signed into iCloud</li> <li>When enabled, changes to settings are automatically synchronized in real-time</li> </ul>"},{"location":"user-guide/#scanning-options","title":"Scanning Options","text":"<ul> <li>Background scanning - Continue scanning when app is in background</li> <li>Minimum Confidence - Filter out low-confidence detections (10% - 100%)</li> </ul>"},{"location":"user-guide/#map-preferences","title":"Map Preferences","text":"<ul> <li>Map Orientation - Choose between:<ul> <li>North Up - Map always oriented to north</li> <li>Heading Up - Map rotates to match your direction of travel</li> </ul> </li> </ul>"},{"location":"user-guide/#audio-alerts","title":"Audio Alerts","text":"<ul> <li>Audible Alerts - Enable/disable sound notifications for detections</li> <li>Alert Sound - Choose from multiple alert sounds</li> <li>Volume - Adjust alert volume independently from system volume</li> <li>Test Alert - Preview the selected alert sound</li> </ul> <p>CarPlay &amp; Bluetooth</p> <p>Audio alerts automatically route to CarPlay or connected Bluetooth audio devices.</p>"},{"location":"user-guide/#data-management","title":"Data Management","text":"<ul> <li>View record count - See total number of stored detections</li> <li>Clear all data - Delete all detection history</li> <li>Export data - Backup your data to a file</li> </ul>"},{"location":"user-guide/#diagnostics","title":"Diagnostics","text":"<p>The diagnostics section shows:</p> <ul> <li>Location permission status</li> <li>GPS accuracy level</li> <li>Bluetooth connection state</li> <li>Info.plist configuration status</li> </ul>"},{"location":"user-guide/#connecting-to-your-device","title":"Connecting to Your Device","text":""},{"location":"user-guide/#first-time-setup","title":"First-Time Setup","text":"<ol> <li>Power on your FlockFinder ESP32 device</li> <li>Open the FlockFinder app</li> <li>Go to the Scanner tab</li> <li>Tap \"Scan for FlockFinder\"</li> <li>Grant Bluetooth permission when prompted</li> <li>Select your device from the discovered list</li> <li>Wait for connection to establish</li> </ol>"},{"location":"user-guide/#connection-states","title":"Connection States","text":"State Description Disconnected No device connected, ready to scan Scanning Actively searching for devices Connecting Establishing connection to selected device Discovering Setting up BLE services and characteristics Connected Successfully connected and receiving data Bluetooth Off Device Bluetooth is disabled Unauthorized Bluetooth permission not granted"},{"location":"user-guide/#troubleshooting-connection-issues","title":"Troubleshooting Connection Issues","text":"<p>Connection Problems?</p> <p>Device not found:</p> <ul> <li>Ensure your FlockFinder device is powered on</li> <li>Check the device is in range (within ~30 feet)</li> <li>Restart Bluetooth on your iPhone</li> </ul> <p>Connection drops frequently:</p> <ul> <li>Move closer to the device</li> <li>Check device battery level</li> <li>Reduce interference from other Bluetooth devices</li> </ul> <p>Unauthorized state:</p> <ul> <li>Go to Settings &gt; Privacy &amp; Security &gt; Bluetooth</li> <li>Enable Bluetooth access for FlockFinder</li> </ul>"},{"location":"user-guide/#tips-for-best-results","title":"Tips for Best Results","text":""},{"location":"user-guide/#driving-mode","title":"Driving Mode","text":"<p>For optimal detection while driving:</p> <ol> <li>Mount your iPhone where you can see the screen</li> <li>Enable Background scanning in Settings</li> <li>Enable Audible Alerts for hands-free notifications</li> <li>Use Heading-up map orientation to match your direction</li> </ol>"},{"location":"user-guide/#battery-optimization","title":"Battery Optimization","text":"<p>To preserve battery life:</p> <ul> <li>Reduce GPS accuracy when not needed</li> <li>Use When In Use location permission instead of Always</li> <li>Disable background scanning when not actively detecting</li> </ul>"},{"location":"user-guide/#data-management_1","title":"Data Management","text":"<ul> <li>Regularly export your detection data for backup</li> <li>Enable iCloud Sync to preserve settings across devices</li> <li>Use filters in History to analyze specific camera types</li> </ul>"},{"location":"user-guide/#quick-reference","title":"Quick Reference","text":"Action How To Connect to device Scanner tab \u2192 Scan for FlockFinder \u2192 Select device View detections on map Map tab \u2192 Tap pins for details Export data History tab \u2192 Export button \u2192 Choose format Change alert sound Settings \u2192 Audio Alerts \u2192 Alert Sound Clear all data Settings \u2192 Data Management \u2192 Clear All Check permissions Settings \u2192 Diagnostics section <p>Need more help? Check out the Building Guide or BLE Protocol documentation.</p>"}]}